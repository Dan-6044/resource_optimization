<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
     <!-- JustGage CSS -->
  <link href="https://cdn.jsdelivr.net/npm/justgage@1.3.3/justgage.css" rel="stylesheet">
  
  <!-- JustGage and Raphael.js JS Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.4/raphael-min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/justgage@1.3.3/justgage.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Custom CSS for Labels -->
<!-- Custom CSS to Make Donut Chart Smaller -->
<style>
    #donutChart {
        width: 220px !important;  /* Adjust width */
        height: 220px !important; /* Adjust height */
        display: block; /* Prevent stretching */
        margin: auto;
    }
</style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- First Column -->
           <div class="col-lg-4">
                <div class="row">
                    <!-- Left Side: Project Selection, Status, Estimated Cost -->
                    <div class="col-6">
                        <div class="card p-2 mb-2 shadow">
                            <label style="font-size: 14px;"><strong>Project Name</strong></label>
                            <select class="form-select" style="font-size: 14px;">
                                <option>Project A</option>
                                <option>Project B</option>
                            </select>
                        </div>
                        <div class="card p-2 mb-2 shadow" >
                            <label style="font-size: 14px;"><strong>Project Status</strong></label>
                            <select class="form-select" style="font-size: 14px;">
                                <option>Ongoing</option>
                                <option>Completed</option>
                            </select>
                        </div>
                        <div class="card p-2 mb-2 shadow text-center text-secondary">
                            <h6>Estimated Cost</h6>
                            <p>$500,000</p>
                        </div>
                    </div>

                    <!-- Right Side: Project Details & Budget Utilization -->
                    <div class="col-6">
                        <div class="d-flex flex-column gap-2">
                            <!-- Project Details (Scrollable) -->
                            <div class="card p-2 shadow flex-fill" style="height: 125px; overflow-y: auto;">
                                <p style="font-size: 13px; margin-bottom: 20px;"><strong>Project Name:</strong> Project A</p>
                                <p style="font-size: 13px; margin-bottom: 20px;">Project</p>
                                <p style="font-size: 12px; margin-bottom: 20px;"><strong>Project Start Date:</strong> 01.012024</p>
                                <p style="font-size: 12px; margin-bottom: 20px;"><strong> Project End Date:</strong> 31.122024</p>
                            </div>
                            <!-- Budget Utilization (Same Height) -->
                            <div class="card p-3 shadow flex-fill text-center text-secondary" style="height: 125px;">
                            
                                <h2>62.5%</h2>
                                <h6>Budget Utilization</h6>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Speedometer Charts -->
                <div class="row mt-3">
                    <div class="col-12">
                        <div class="card p-2 shadow">
                            <div class="d-flex justify-content-between">
                                <!-- Schedule Performance Gauge -->
                                <div class="gauge-container" style="width: 40%; position: relative;">
                                    <h2 style="font-size: 16px;">Schedule Performance</h2>
                                    <div id="schedule-gauge" class="my-2"></div> <!-- Gauge Chart Placeholder -->
                                    <p style="text-align: center; font-size: 1.2em; ">
                                        Current Value: <span id="schedule-value">0</span>
                                    </p>
                                </div>

                                <!-- Cost Performance Gauge -->
                                <div class="gauge-container" style="width: 40%; position: relative;">
                                    <h2 style="font-size: 18px;">Cost Performance</h2>
                                    <div id="cost-gauge" class="my-2"></div> <!-- Gauge Chart Placeholder -->
                                    <p style="text-align: center; font-size: 1.2em;">
                                        Current Value: <span id="cost-value">0</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Second Column -->
            <div class="col-lg-4">
                <div class="card p-3">
                    <canvas id="donutChart"></canvas>
                </div>
                <div class="card p-2 mt-3">
                    <table class="table">
                        <thead>
                            <tr style="font-size: 12px;">
                                <th>Color</th>
                                <th>Resource</th>
                                <th>Cost</th>
                            </tr>
                        </thead>
                        <tbody style="font-size: 12px;">
                            <tr><td style="background-color: red;"></td><td>Equipment</td><td>$200,000</td></tr>
                            <tr><td style="background-color: blue;"></td><td>Foreign Labor</td><td>$150,000</td></tr>
                            <tr><td style="background-color: green;"></td><td>Labor</td><td>$120,000</td></tr>
                            <tr><td style="background-color: yellow;"></td><td>Materials</td><td>$100,000</td></tr>
                            <tr><td style="background-color: maroon;"></td><td>Subcontractors</td><td>$110,000</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Third Column -->
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-6">
                        <canvas id="pieChart"></canvas>
                    </div>
                    <div class="col-6">
                        <canvas id="lineChart"></canvas>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-12">
                        <canvas id="barChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>


   <script src="https://cdn.jsdelivr.net/npm/justgage@1.3.0/justgage.min.js"></script>

<!-- JavaScript -->
<script>
    function createGauge(id, title, color, valueElement) {
        return new JustGage({
            id: id,                  // ID of the gauge container
            value: 0,                // Start value at baseline
            min: 0,                  // Minimum value
            max: 2,                  // Maximum value
            title: title,            // Title of the gauge
            label: "",               // No percentage label
            gaugeWidthScale: 1,    // Thicker gauge
            pointer: true,           // Show pointer
            pointerOptions: {
                toplength: -20,       // Adjusts pointer length
                bottomlength: 30,   // Positions needle at the labels
                offsetY: 0         // Raises needle so it doesn't touch gauge
            },
            levelColors: [color],    // Single color for clarity
            customSectors: [{        // Custom sector colors
                color: color,
                lo: 0, hi: 2
            }],
            decimals: 1,             // Show one decimal place in values
            valueFontColor: "#000",  // Black text for clarity
            labelFontColor: "#000",  // Black labels for better visibility
            textRenderer: function(value) { // Update the value below the gauge
                document.getElementById(valueElement).innerText = value.toFixed(1);
                return value.toFixed(1); 
            }
        });
    }

    // Initialize the gauges
    var scheduleGauge = createGauge("schedule-gauge", "Schedule Performance", "#5bc0de", "schedule-value");
    var costGauge = createGauge("cost-gauge", "Cost Performance", "#d9534f", "cost-value");

    // Example to update values dynamically
    setTimeout(() => {
        scheduleGauge.refresh(1.5);
        costGauge.refresh(1.0);
    }, 2000);
</script>

<!-- JustGage and Raphael JS Library -->
<script src="https://cdn.jsdelivr.net/npm/justgage@1.4.0"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.4/raphael-min.js"></script>

  <!-- Bootstrap JS and dependencies -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-doughnutlabel"></script>

    <script>
        // Dummy charts initialization

        const ctxPie = document.getElementById('pieChart').getContext('2d');
        new Chart(ctxPie, { type: 'pie', data: { labels: ['A', 'B'], datasets: [{ data: [60, 40], backgroundColor: ['green', 'orange'] }] }});
        
        const ctxLine = document.getElementById('lineChart').getContext('2d');
        new Chart(ctxLine, { type: 'line', data: { labels: ['Jan', 'Feb'], datasets: [{ data: [10, 20], borderColor: 'blue' }] }});
        
        const ctxBar = document.getElementById('barChart').getContext('2d');
        new Chart(ctxBar, { type: 'bar', data: { labels: ['X', 'Y'], datasets: [{ data: [30, 50], backgroundColor: ['purple', 'yellow'] }] }});
    </script>
    <!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const ctxDonut = document.getElementById('donutChart').getContext('2d');

    new Chart(ctxDonut, {
        type: 'doughnut',
        data: {
            labels: ['Equipment', 'Foreign Labor', 'Labor', 'Materials', 'Subcontractors'],
            datasets: [{
                data: [200, 150, 120, 100, 110],
                backgroundColor: ['red', 'blue', 'green', 'yellow', 'maroon']
            }]
        },
        options: {
            responsive: true, 
            maintainAspectRatio: false, // Ensures resizing works
            cutout: '65%', // Controls the inner hole size (adjustable)
            plugins: {
                legend: {
                    display: false,
                    position: 'bottom'
                }
            }
        }
    });
</script>
</body>
</html>
